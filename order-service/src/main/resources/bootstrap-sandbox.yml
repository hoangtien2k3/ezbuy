app:
  config:
    keycloak:
      url: http://sme-keycloak.sme-portal-sandbox.svc:8080/auth
      realm: sme-portal
logging:
  config: classpath:log4j2-sandbox.xml
spring:
  application:
    name: sme-order-service
  main:
    allow-bean-definition-overriding: true
  security:
    oauth2:
      client:
        provider:
          oidc:
            token-uri: ${app.config.keycloak.url}/realms/${app.config.keycloak.realm}/protocol/openid-connect/token
        registration:
          oidc:
            client-id: sme-system
            client-secret: Ryxj5OQFqINTfxGCEFaueUQMwLdLsYP8
            authorization-grant-type: client_credentials
      resourceserver:
        jwt:
          jwk-set-uri: ${app.config.keycloak.url}/realms/${app.config.keycloak.realm}/protocol/openid-connect/certs
      keycloak:
        client-id: web-client
  cloud:
    kubernetes:
      discovery:
        namespaces:
          - sme-portal-sandbox
      reload:
        enabled: false
      secrets:
        name: sme-order-service
        namespace: sme-portal-sandbox
        sources:
          - name: sme-order-service
      config:
        name: sme-order-service
        namespace: sme-portal-sandbox
        sources:
          - name: sme-order-service
management:
  endpoint:
    web:
      exposure:
        include: health, metrics, prometheus
    health:
      show-details: never
  health:
    redis:
      enabled: false
    elasticsearch:
      enabled: false
